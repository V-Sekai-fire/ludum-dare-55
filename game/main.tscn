[gd_scene load_steps=17 format=3 uid="uid://cogm6hynqnryu"]

[ext_resource type="Material" uid="uid://d1dcxbgx8kga7" path="res://materials/test_grid_grey.tres" id="1_5df2b"]
[ext_resource type="Script" path="res://addons/exmoe_tools/common/follow_cam.gd" id="2_1xjub"]
[ext_resource type="Script" path="res://game/CharacterBody3D.gd" id="3_86alv"]
[ext_resource type="PackedScene" uid="uid://dy34a7txdnetm" path="res://phys/box.tscn" id="4_lorap"]
[ext_resource type="Script" path="res://game/safe_area.gd" id="4_ugrv4"]
[ext_resource type="FontFile" uid="uid://qf7622sypprq" path="res://addons/exmoe_tools/fonts/Yanone_Kaffeesatz/YanoneKaffeesatz-SemiBold.ttf" id="6_2w0jt"]

[sub_resource type="PhysicalSkyMaterial" id="PhysicalSkyMaterial_c5qv6"]
rayleigh_coefficient = 1.25
mie_eccentricity = 0.85
mie_color = Color(0.67451, 0.737255, 0.807843, 1)
ground_color = Color(0.317647, 0.247059, 0.160784, 1)
energy_multiplier = 4.0

[sub_resource type="Sky" id="Sky_bvtvx"]
sky_material = SubResource("PhysicalSkyMaterial_c5qv6")

[sub_resource type="Environment" id="Environment_lipqr"]
background_mode = 2
sky = SubResource("Sky_bvtvx")
tonemap_mode = 3

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_f2mhc"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_ku5q7"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_qbx06"]

[sub_resource type="SphereShape3D" id="SphereShape3D_hkaa8"]
radius = 2.0

[sub_resource type="BoxShape3D" id="BoxShape3D_lhwli"]
size = Vector3(512, 100, 512)

[sub_resource type="BoxMesh" id="BoxMesh_kmxbi"]
size = Vector3(2, 1, 4)

[sub_resource type="BoxShape3D" id="BoxShape3D_woojd"]
size = Vector3(2, 1, 4)

[node name="Node3D" type="Node3D"]

[node name="CSGBox3D" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, -0.5, 2.08165e-12)
material_override = ExtResource("1_5df2b")
use_collision = true
size = Vector3(20.3103, 1, 23.3867)

[node name="CSGBox3D3" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, -0.5, 47.5267)
material_override = ExtResource("1_5df2b")
use_collision = true
size = Vector3(20.3103, 1, 23.3867)

[node name="CSGBox3D2" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.68443, 0.5, 0)
use_collision = true
size = Vector3(0.290527, 1, 2.71118)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_lipqr")
camera_attributes = SubResource("CameraAttributesPractical_f2mhc")

[node name="Camera3D" type="Camera3D" parent="."]
script = ExtResource("2_1xjub")

[node name="CharacterBody3D" type="CharacterBody3D" parent="." node_paths=PackedStringArray("camera", "grabber")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
script = ExtResource("3_86alv")
camera = NodePath("../Camera3D")
grabber = NodePath("grabber")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CharacterBody3D"]
mesh = SubResource("CapsuleMesh_ku5q7")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D"]
shape = SubResource("CapsuleShape3D_qbx06")

[node name="grabber" type="Area3D" parent="CharacterBody3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D/grabber"]
shape = SubResource("SphereShape3D_hkaa8")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.727426, -0.556744, 0.401108, -6.42695e-16, 0.584547, 0.81136, -0.686187, -0.590204, 0.425214, 0, 2.25026, 1.70259)
shadow_enabled = true
shadow_bias = 0.05
directional_shadow_split_1 = 0.05
directional_shadow_split_2 = 0.1
directional_shadow_split_3 = 0.25

[node name="box" parent="." instance=ExtResource("4_lorap")]

[node name="box2" parent="." instance=ExtResource("4_lorap")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.89285, 1.99575, 2.88515)

[node name="box3" parent="." instance=ExtResource("4_lorap")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.00435, 1.99575, 5.31427)

[node name="box4" parent="." instance=ExtResource("4_lorap")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.68734, 1.99575, -3.46687)

[node name="Area3D" type="Area3D" parent="."]
script = ExtResource("4_ugrv4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 25, 2.08165e-12)
shape = SubResource("BoxShape3D_lhwli")

[node name="AnimatableBody3D" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, -0.5, 13.7126)
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
constant_force = Vector3(2.08165e-12, 2.08165e-12, -1)

[node name="MeshInstance3D" type="MeshInstance3D" parent="AnimatableBody3D"]
mesh = SubResource("BoxMesh_kmxbi")
skeleton = NodePath("../CollisionShape3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="AnimatableBody3D"]
shape = SubResource("BoxShape3D_woojd")

[node name="SliderJoint3D" type="SliderJoint3D" parent="AnimatableBody3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0, 0)
node_a = NodePath("..")
node_b = NodePath("../StaticBody3D")

[node name="StaticBody3D" type="StaticBody3D" parent="AnimatableBody3D"]

[node name="Label3D" type="Label3D" parent="."]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 1.6553, 50.3054)
pixel_size = 0.05
text = "the goal is to get to here"
font = ExtResource("6_2w0jt")
