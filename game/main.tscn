[gd_scene load_steps=20 format=3 uid="uid://cogm6hynqnryu"]

[ext_resource type="Material" uid="uid://d1dcxbgx8kga7" path="res://materials/test_grid_grey.tres" id="1_5df2b"]
[ext_resource type="PackedScene" uid="uid://d0bndvyxq2j7a" path="res://game/main_background.tscn" id="1_vm1ni"]
[ext_resource type="Script" path="res://addons/exmoe_tools/common/follow_cam.gd" id="2_1xjub"]
[ext_resource type="PackedScene" uid="uid://de0xrdyh6s7tl" path="res://phys/player.tscn" id="3_fg7x3"]
[ext_resource type="PackedScene" uid="uid://dy34a7txdnetm" path="res://phys/box.tscn" id="4_lorap"]
[ext_resource type="FontFile" uid="uid://qf7622sypprq" path="res://addons/exmoe_tools/fonts/Yanone_Kaffeesatz/YanoneKaffeesatz-SemiBold.ttf" id="6_2w0jt"]
[ext_resource type="Script" path="res://phys/contraption.gd" id="6_onsvi"]
[ext_resource type="PackedScene" uid="uid://btr2kol4d1adt" path="res://phys/thruster.tscn" id="8_e3cpq"]
[ext_resource type="PackedScene" uid="uid://dwfgw3tn22cia" path="res://phys/stick.tscn" id="9_1ubtu"]
[ext_resource type="Script" path="res://addons/object-inspector/scripts/inspector.gd" id="9_21m2a"]
[ext_resource type="Script" path="res://ui/clear_focus.gd" id="9_ak2w4"]
[ext_resource type="Script" path="res://phys/autobuild.gd" id="10_p856n"]
[ext_resource type="PackedScene" uid="uid://b8wn885578i47" path="res://phys/wheel.tscn" id="11_ak27m"]
[ext_resource type="PackedScene" uid="uid://2agrpi173fjt" path="res://phys/steering.tscn" id="13_g2gfn"]
[ext_resource type="PackedScene" uid="uid://dsnnni3tvdy3y" path="res://phys/sliding_platform.tscn" id="14_q6ify"]
[ext_resource type="PackedScene" uid="uid://b0s7vs1j5g0ik" path="res://phys/pressure_plate.tscn" id="14_svdhl"]
[ext_resource type="PackedScene" uid="uid://bv21rw6f7mgku" path="res://phys/trigger_door.tscn" id="16_15ja0"]
[ext_resource type="Script" path="res://phys/scene_change_trigger.gd" id="18_o7u0q"]

[sub_resource type="SphereShape3D" id="SphereShape3D_3kd6k"]
radius = 3.0

[node name="Node3D" type="Node3D"]

[node name="background" parent="." instance=ExtResource("1_vm1ni")]

[node name="spawn_platform" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 5, -31.251)
material_override = ExtResource("1_5df2b")
use_collision = true
size = Vector3(25.7998, 12.3087, 85.8882)

[node name="spawn_platform" type="CSGBox3D" parent="spawn_platform"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, 2, 4.59168)
material_override = ExtResource("1_5df2b")
operation = 2
use_collision = true
size = Vector3(20.31, 14, 78.4349)

[node name="rail_a" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.07219, -0.954041, 24.1703)
material_override = ExtResource("1_5df2b")
size = Vector3(0.0449219, 0.138062, 25.2288)

[node name="rail_b" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.927805, -0.954041, 24.1703)
material_override = ExtResource("1_5df2b")
size = Vector3(0.0449219, 0.138062, 25.2288)

[node name="goal_platform" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.08165e-12, -0.5, 47.5267)
material_override = ExtResource("1_5df2b")
use_collision = true
size = Vector3(20.3103, 1, 23.3867)

[node name="Camera3D" type="Camera3D" parent="."]
script = ExtResource("2_1xjub")
fp_responsiveness = 0.95

[node name="player" parent="." node_paths=PackedStringArray("camera") instance=ExtResource("3_fg7x3")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 1.72335e-07, 2, -1.97128)
camera = NodePath("../Camera3D")

[node name="Label3D" type="Label3D" parent="."]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 1.6553, 50.3054)
pixel_size = 0.025
text = "the goal is here"
font = ExtResource("6_2w0jt")
font_size = 64
outline_size = 24

[node name="Label3D2" type="Label3D" parent="."]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0.417122, 50.3054)
pixel_size = 0.0125
text = "right here specifically"
font = ExtResource("6_2w0jt")

[node name="Contraption" type="Node3D" parent="."]
script = ExtResource("6_onsvi")

[node name="wheel" parent="Contraption" instance=ExtResource("11_ak27m")]
transform = Transform3D(0.969778, 0, -0.243987, 0, 1, 0, 0.243987, 0, 0.969778, 7.68523, 2.45733, -8.18242)

[node name="box2" parent="Contraption" instance=ExtResource("4_lorap")]
transform = Transform3D(0.21862, 0, 0.97581, 0, 1, 0, -0.97581, 0, 0.21862, 7.21037, 3.65108, -10.7521)

[node name="stick" parent="Contraption" instance=ExtResource("9_1ubtu")]
transform = Transform3D(0.797552, 0, -0.60325, 0, 1, 0, 0.60325, 0, 0.797552, 6.55696, 0.817747, -5.8567)

[node name="steering3" parent="Contraption" instance=ExtResource("13_g2gfn")]
transform = Transform3D(-0.452964, -9.88962e-17, 0.891529, 0.709461, -0.605586, 0.36046, 0.539897, 0.79578, 0.274308, 6.05365, 3.94889, -5.31182)

[node name="steering4" parent="Contraption" instance=ExtResource("13_g2gfn")]
transform = Transform3D(-0.948096, 0, -0.317983, 0, 1, 0, 0.317983, 0, -0.948096, 8.47155, 3.94889, -5.0454)

[node name="stick2" parent="Contraption" instance=ExtResource("9_1ubtu")]
transform = Transform3D(0.851489, 0, 0.524372, 0, 1, 0, -0.524372, 0, 0.851489, 8.21452, 0.817746, -8.17965)

[node name="stick3" parent="Contraption" instance=ExtResource("9_1ubtu")]
transform = Transform3D(0.986098, 0, -0.166167, 0, 1, 0, 0.166166, 0, 0.986098, 5.5322, 0.817746, -7.60597)

[node name="box3" parent="Contraption" instance=ExtResource("4_lorap")]
transform = Transform3D(0.132377, 0, -0.991199, 0, 1, 0, 0.991199, 0, 0.132377, 6.09888, 2.1078, -10.7311)

[node name="box5" parent="Contraption" instance=ExtResource("4_lorap")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.12009, 1.99575, 39.5287)

[node name="steering" parent="Contraption" instance=ExtResource("13_g2gfn")]
transform = Transform3D(0.934624, -0.0346204, -0.353948, -0.0323765, -0.999401, 0.0122612, -0.35416, 0, -0.935185, 4.17484, 1.42187, -3.02605)

[node name="steering2" parent="Contraption" instance=ExtResource("13_g2gfn")]
transform = Transform3D(0.934624, -0.0346204, -0.353948, -0.0323765, -0.999401, 0.0122612, -0.35416, 0, -0.935185, 6.06091, 1.35653, -3.74074)

[node name="wheel9" parent="Contraption" instance=ExtResource("11_ak27m")]
transform = Transform3D(0.934624, -0.0346204, -0.353948, -0.0323765, -0.999401, 0.0122612, -0.35416, 0, -0.935185, 4.15846, 1.43635, -5.85279)

[node name="box4" parent="Contraption" instance=ExtResource("4_lorap")]
transform = Transform3D(-0.935185, -9.96729e-15, 0.35416, -1.06581e-14, 1, 0, -0.35416, -3.77468e-15, -0.935185, 3.82782, 1.25799, -10.1436)

[node name="thruster6" parent="Contraption" instance=ExtResource("8_e3cpq")]
transform = Transform3D(-1, 0, -8.74228e-08, 8.74228e-08, -4.37114e-08, -1, -3.82137e-15, -1, 4.37114e-08, 7.78939, 6.51476, -6.71194)

[node name="thruster7" parent="Contraption" instance=ExtResource("8_e3cpq")]
transform = Transform3D(-0.883406, -0.468608, -5.67463e-08, -0.173008, 0.326149, -0.929352, 0.435502, -0.820995, -0.369195, 9.09687, 1.91872, -5.44566)

[node name="thruster8" parent="Contraption" instance=ExtResource("8_e3cpq")]
transform = Transform3D(-1, 0, -8.74228e-08, 8.74228e-08, -4.37114e-08, -1, -3.82137e-15, -1, 4.37114e-08, 5.77396, 6.51476, -6.71194)

[node name="thruster9" parent="Contraption" instance=ExtResource("8_e3cpq")]
transform = Transform3D(-0.883406, -0.468608, -5.67463e-08, -0.173008, 0.326149, -0.929352, 0.435502, -0.820995, -0.369195, 7.31643, 1.57004, -4.56794)

[node name="Autobuild" type="Node3D" parent="Contraption"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.92228, 0)
script = ExtResource("10_p856n")
build_root = NodePath("box")

[node name="steering" parent="Contraption/Autobuild" instance=ExtResource("13_g2gfn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.42775, 0, 0.421089)

[node name="steering2" parent="Contraption/Autobuild" instance=ExtResource("13_g2gfn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.4031, -4.76837e-07, 0.400074)

[node name="box" parent="Contraption/Autobuild" instance=ExtResource("4_lorap")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.41738, 0.36821, 2.13122)

[node name="wheel" parent="Contraption/Autobuild" instance=ExtResource("11_ak27m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.43209, -9.53674e-07, 3.81248)

[node name="wheel2" parent="Contraption/Autobuild" instance=ExtResource("11_ak27m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.39867, -9.53674e-07, 3.81248)

[node name="box" parent="Contraption" instance=ExtResource("4_lorap")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.55807, 4.67033, -10.4365)

[node name="door" parent="Contraption" instance=ExtResource("16_15ja0")]

[node name="sliding_platform" parent="Contraption" instance=ExtResource("14_q6ify")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -1, -0.5, 13.703)

[node name="sliding_platform3" parent="Contraption" instance=ExtResource("14_q6ify")]
transform = Transform3D(1, -3.48787e-16, 3.48787e-16, 3.48787e-16, 1, -3.48787e-16, -3.48787e-16, 3.48787e-16, 1, 1.13525, -0.5, 33.8021)

[node name="Control2" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("9_ak2w4")

[node name="Control" type="Control" parent="Control2"]
layout_mode = 1
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -373.0
offset_top = 12.0
offset_right = -16.0
offset_bottom = -12.0
grow_horizontal = 0
grow_vertical = 2

[node name="ObjectInspector" type="VBoxContainer" parent="Control2/Control"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("9_21m2a")
_search_enabled = false

[node name="pressure_plate" parent="." instance=ExtResource("14_svdhl")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -2.18555e-07, 2.08165e-12, -7.77526)
target_path = NodePath("../Contraption/door")

[node name="pressure_plate2" parent="." instance=ExtResource("14_svdhl")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -2.18555e-07, 2.08165e-12, 9.85056)
target_path = NodePath("../Contraption/sliding_platform")

[node name="Area3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0636549, 0.480761, 48.4538)
script = ExtResource("18_o7u0q")
scene_path = "res://ui/boot_splash.tscn"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.23085, 0)
shape = SubResource("SphereShape3D_3kd6k")
